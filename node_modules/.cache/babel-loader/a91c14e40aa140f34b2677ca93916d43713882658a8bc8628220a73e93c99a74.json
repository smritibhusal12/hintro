{"ast":null,"code":"import _objectSpread from\"/Users/bhusalsmriti/Desktop/Hintro/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{createContext,useContext,useState,useEffect}from'react';import{storage}from'../utils/storage';import{jsx as _jsx}from\"react/jsx-runtime\";const TaskContext=/*#__PURE__*/createContext(undefined);export const TaskProvider=_ref=>{let{children}=_ref;const[tasks,setTasks]=useState([]);const[activities,setActivities]=useState([]);const[searchQuery,setSearchQuery]=useState('');const[priorityFilter,setPriorityFilter]=useState('all');const[sortBy,setSortBy]=useState('none');useEffect(()=>{setTasks(storage.getTasks());setActivities(storage.getActivities());},[]);useEffect(()=>{storage.saveTasks(tasks);},[tasks]);useEffect(()=>{storage.saveActivities(activities);},[activities]);const addActivity=(type,taskId,taskTitle,details)=>{const newActivity={id:Date.now().toString(),type,taskId,taskTitle,timestamp:new Date().toISOString(),details};setActivities(prev=>[newActivity,...prev].slice(0,50));// Keep only last 50 activities\n};const addTask=taskData=>{const newTask=_objectSpread(_objectSpread({},taskData),{},{id:Date.now().toString(),createdAt:new Date().toISOString()});setTasks(prev=>[...prev,newTask]);addActivity('created',newTask.id,newTask.title);};const updateTask=(id,updates)=>{setTasks(prev=>prev.map(task=>task.id===id?_objectSpread(_objectSpread({},task),updates):task));const task=tasks.find(t=>t.id===id);if(task){addActivity('edited',id,task.title);}};const deleteTask=id=>{const task=tasks.find(t=>t.id===id);setTasks(prev=>prev.filter(task=>task.id!==id));if(task){addActivity('deleted',id,task.title);}};const moveTask=(id,newColumn)=>{const task=tasks.find(t=>t.id===id);setTasks(prev=>prev.map(task=>task.id===id?_objectSpread(_objectSpread({},task),{},{column:newColumn}):task));if(task&&task.column!==newColumn){addActivity('moved',id,task.title,\"from \".concat(task.column,\" to \").concat(newColumn));}};const resetBoard=()=>{setTasks([]);setActivities([]);storage.resetBoard();};const value={tasks,activities,addTask,updateTask,deleteTask,moveTask,resetBoard,searchQuery,setSearchQuery,priorityFilter,setPriorityFilter,sortBy,setSortBy};return/*#__PURE__*/_jsx(TaskContext.Provider,{value:value,children:children});};export const useTask=()=>{const context=useContext(TaskContext);if(context===undefined){throw new Error('useTask must be used within a TaskProvider');}return context;};","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","storage","jsx","_jsx","TaskContext","undefined","TaskProvider","_ref","children","tasks","setTasks","activities","setActivities","searchQuery","setSearchQuery","priorityFilter","setPriorityFilter","sortBy","setSortBy","getTasks","getActivities","saveTasks","saveActivities","addActivity","type","taskId","taskTitle","details","newActivity","id","Date","now","toString","timestamp","toISOString","prev","slice","addTask","taskData","newTask","_objectSpread","createdAt","title","updateTask","updates","map","task","find","t","deleteTask","filter","moveTask","newColumn","column","concat","resetBoard","value","Provider","useTask","context","Error"],"sources":["/Users/bhusalsmriti/Desktop/Hintro/src/context/TaskContext.tsx"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';\nimport { Task, Activity } from '../types';\nimport { storage } from '../utils/storage';\n\ninterface TaskContextType {\n  tasks: Task[];\n  activities: Activity[];\n  addTask: (task: Omit<Task, 'id' | 'createdAt'>) => void;\n  updateTask: (id: string, updates: Partial<Task>) => void;\n  deleteTask: (id: string) => void;\n  moveTask: (id: string, newColumn: 'todo' | 'doing' | 'done') => void;\n  resetBoard: () => void;\n  searchQuery: string;\n  setSearchQuery: (query: string) => void;\n  priorityFilter: 'all' | 'low' | 'medium' | 'high';\n  setPriorityFilter: (filter: 'all' | 'low' | 'medium' | 'high') => void;\n  sortBy: 'none' | 'dueDate';\n  setSortBy: (sort: 'none' | 'dueDate') => void;\n}\n\nconst TaskContext = createContext<TaskContextType | undefined>(undefined);\n\nexport const TaskProvider: React.FC<{ children: ReactNode }> = ({ children }) => {\n  const [tasks, setTasks] = useState<Task[]>([]);\n  const [activities, setActivities] = useState<Activity[]>([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [priorityFilter, setPriorityFilter] = useState<'all' | 'low' | 'medium' | 'high'>('all');\n  const [sortBy, setSortBy] = useState<'none' | 'dueDate'>('none');\n\n  useEffect(() => {\n    setTasks(storage.getTasks());\n    setActivities(storage.getActivities());\n  }, []);\n\n  useEffect(() => {\n    storage.saveTasks(tasks);\n  }, [tasks]);\n\n  useEffect(() => {\n    storage.saveActivities(activities);\n  }, [activities]);\n\n  const addActivity = (type: Activity['type'], taskId: string, taskTitle: string, details?: string) => {\n    const newActivity: Activity = {\n      id: Date.now().toString(),\n      type,\n      taskId,\n      taskTitle,\n      timestamp: new Date().toISOString(),\n      details\n    };\n    setActivities(prev => [newActivity, ...prev].slice(0, 50)); // Keep only last 50 activities\n  };\n\n  const addTask = (taskData: Omit<Task, 'id' | 'createdAt'>) => {\n    const newTask: Task = {\n      ...taskData,\n      id: Date.now().toString(),\n      createdAt: new Date().toISOString()\n    };\n    setTasks(prev => [...prev, newTask]);\n    addActivity('created', newTask.id, newTask.title);\n  };\n\n  const updateTask = (id: string, updates: Partial<Task>) => {\n    setTasks(prev => prev.map(task => \n      task.id === id ? { ...task, ...updates } : task\n    ));\n    const task = tasks.find(t => t.id === id);\n    if (task) {\n      addActivity('edited', id, task.title);\n    }\n  };\n\n  const deleteTask = (id: string) => {\n    const task = tasks.find(t => t.id === id);\n    setTasks(prev => prev.filter(task => task.id !== id));\n    if (task) {\n      addActivity('deleted', id, task.title);\n    }\n  };\n\n  const moveTask = (id: string, newColumn: 'todo' | 'doing' | 'done') => {\n    const task = tasks.find(t => t.id === id);\n    setTasks(prev => prev.map(task => \n      task.id === id ? { ...task, column: newColumn } : task\n    ));\n    if (task && task.column !== newColumn) {\n      addActivity('moved', id, task.title, `from ${task.column} to ${newColumn}`);\n    }\n  };\n\n  const resetBoard = () => {\n    setTasks([]);\n    setActivities([]);\n    storage.resetBoard();\n  };\n\n  const value: TaskContextType = {\n    tasks,\n    activities,\n    addTask,\n    updateTask,\n    deleteTask,\n    moveTask,\n    resetBoard,\n    searchQuery,\n    setSearchQuery,\n    priorityFilter,\n    setPriorityFilter,\n    sortBy,\n    setSortBy\n  };\n\n  return <TaskContext.Provider value={value}>{children}</TaskContext.Provider>;\n};\n\nexport const useTask = (): TaskContextType => {\n  const context = useContext(TaskContext);\n  if (context === undefined) {\n    throw new Error('useTask must be used within a TaskProvider');\n  }\n  return context;\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}